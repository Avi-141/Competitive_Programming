MOD = 10**9+7

precomputed_chromatic_polynomials = {
    #(1,1): [0, 1],
    #(2,1): [0, 1000000006, 1],
    (2,2): [0, 1000000004L, 6L, 1000000003, 1],
    #(3,1): [0, 1L, 1000000005, 1],
    (3,2): [0, 999999998L, 27L, 999999974L, 21L, 1000000000, 1],
    #(3,3): [0, 79L, 999999684L, 594L, 999999359L, 459L, 999999791L, 66L, 999999995, 1],
    #(4,1): [0, 1000000006L, 3L, 1000000004, 1],
    (4,2): [0, 999999980L, 108L, 999999818L, 189L, 999999890L, 45L, 999999997, 1],
   # (4,3): [0, 999999316L, 3586L, 999991301L, 13109L, 999986402L, 10207L, 999994365L, 2296L, 999999333L, 136L, 999999990, 1],
   # (4,4): [0, 999982514L, 112275L, 999653733L, 682349L, 999039380L, 1022204L, 999151951L, 557782L, 999707124L, 122662L, 999959393L, 10437L, 999997992L, 276L,
   # 999999983, 1],
    #(5,1): [0, 1L, 1000000003L, 6L, 1000000003, 1],
    (5,2): [0, 999999926L, 405L, 999999089L, 1242L, 999998900L, 675L, 999999725L, 78L, 999999994, 1],
    #(5,3): [0, 6041L, 999961995L, 114174L, 999782604L, 293138L, 999704216L, 230070L, 999860026L, 66889L, 999975041L, 7163L, 999998475L, 231L, 999999985, 1],
    #(5,4): [0, 999558242L, 3382139L, 987385609L, 30502219L, 946406520L, 72626994L, 921382029L, 69473457L, 949204278L, 30965801L, 984210493L, 6729039L, 
    #997614488L, 697035L, 999834632L, 31129L, 999995524L, 465L, 999999976, 1],
    #(5,5): [0, 32126211L, 709564232L, 292190136L, 232029122L, 82227215L, 439209057L, 473119430L, 67725133L, 54961856L, 570790382L, 594826019L, 917128404L, 
    #754018465L, 273041111L, 688444232L, 763044069L, 69997383L, 982409096L, 3714180L, 999352655L, 90798L, 999990143L, 780L, 999999967, 1],
    #(6,1): [0, 1000000006L, 5L, 999999997L, 10L, 1000000002, 1],
    (6,2): [0, 999999764L, 1458L, 999995957L, 6885L, 999992042L, 6588L, 999996029L, 1755L, 999999452L, 120L, 999999991, 1],
    #(6,3): [0, 999947198L, 390541L, 998604889L, 3199931L, 994723790L, 6631221L, 993428507L, 5239732L, 996599955L, 1804417L, 999217296L, 275815L, 999922037L, 
    #17310L, 999997092L, 351L, 999999980, 1],
    #(6,4): [0, 988850024L, 99187684L, 566695025L, 237553259L, 407136163L, 236565742L, 398233346L, 139205885L, 333111696L, 453635838L, 998914196L, 741090291L, 
    #128917264L, 375602399L, 860818448L, 44085868L, 988161799L, 2662611L, 999506990L, 73290L, 999991586L, 703L, 999999969, 1],
    #(6,5): [0, 667603002L, 330159148L, 368206607L, 774308385L, 222693266L, 617152576L, 633053952L, 560175074L, 824756668L, 790624647L, 146465957L, 588427372L, 
    #90431435L, 951092774L, 496118870L, 63469467L, 949638336L, 369659433L, 901718610L, 170621543L, 130546007L, 423734088L, 917354965L, 13680406L, 998113823L, 
    #210956L, 999981603L, 1176L, 999999958, 1],
    #(6,6): [0, 699132224L, 813991468L, 881667439L, 428431154L, 5407595L, 488320146L, 164388651L, 2127073L, 498182989L, 886595559L, 373775878L, 43387463L, 
    #438122017L, 45722653L, 238937973L, 392388417L, 338927316L, 438566589L, 613881757L, 522570186L, 9304468L, 370336305L, 406066060L, 113889977L, 668020107L, 
    #878825566L, 116644446L, 454371681L, 623652153L, 49332660L, 994578395L, 486210L, 999965812L, 1770L, 999999947, 1],
    #(7,1): [0, 1L, 1000000001L, 15L, 999999987L, 15L, 1000000001, 1],
    (7,2): [0, 999999278L, 5103L, 999983240L, 34263L, 999951407L, 50544L, 999960344L, 23787L, 999989099L, 3780L, 999999044L, 171L, 999999988, 1],
    #(7,3): [0, 461639L, 996076814L, 16228195L, 956545009L, 84443921L, 873511537L, 151404076L, 851834734L, 120295965L, 918230987L, 46756884L, 977481221L, 
    #9114580L, 996917452L, 862410L, 999803503L, 35612L, 999995059L, 496L, 999999975, 1],
    #(7,4): [0, 718615376L, 852134720L, 731014800L, 919199714L, 151384412L, 910540726L, 925708493L, 108743858L, 377798070L, 896885414L, 327523101L, 289321710L, 
    #536364782L, 865906077L, 190040048L, 224140548L, 886891025L, 717066999L, 206869522L, 200354194L, 956629170L, 7938573L, 998793746L, 148239L, 999985835L, 
    #990L, 999999962, 1],
    #(7,5): [0, 247800214L, 754058346L, 97389315L, 216782521L, 214846682L, 618511486L, 59441771L, 11452638L, 5438850L, 48037249L, 628914555L, 261981156L, 
    #527799287L, 896226159L, 383745217L, 955535102L, 521097451L, 876778742L, 56074783L, 938737246L, 40995157L, 70497221L, 749334842L, 817285883L, 383578110L, 
    #40797671L, 833672296L, 707496902L, 39845994L, 995453531L, 422950L, 999969175L, 1653L, 999999949, 1],
    #(7,6): [0, 864173627L, 749449876L, 442624612L, 762952113L, 132078013L, 787745686L, 116634751L, 312355005L, 434856166L, 459688502L, 4429088L, 652274938L, 188155549L, 958099L, 537561026L, 383503680L, 525768064L, 323208651L, 824811676L, 407592736L, 504292463L, 459345679L, 979297842L, 839126110L, 229156607L, 147779401L, 358184107L, 688395228L, 361647378L, 993445619L, 637976021L, 948273414L, 790761215L, 327305310L, 694512604L, 141715954L, 987048438L, 969595L, 999942882L, 2485L, 999999936, 1],
    #(7,7): [0, 97370719L, 92213503L, 730766796L, 225856082L, 452227038L, 125117711L, 834937384L, 144644580L, 99198187L, 900997296L, 371574906L, 451748830L, 
    #648975092L, 289154120L, 23431919L, 845157246L, 621228558L, 599596781L, 468575796L, 867750619L, 15131983L, 539608538L, 86638756L, 332942094L, 261739568L, 
    #680927464L, 974955834L, 189876787L, 156938257L, 460605073L, 224020321L, 508390023L, 300355761L, 592731452L, 398691538L, 214343298L, 862909598L, 
    #487667902L, 742562978L, 498812059L, 674657884L, 530479784L, 403410654L, 969244631L, 1926585L, 999904759L, 3486L, 999999923, 1],
    #(8,1): [0, 1000000006L, 7L, 999999986L, 35L, 999999972L, 21L, 1000000000, 1],
    (8,2): [0, 999997820L, 17496L, 999933668L, 158193L, 999734651L, 331695L, 999680786L, 240894L, 999856259L, 67851L, 999974870L, 7182L, 999998474L, 231L, 999999985, 1],
    #(8,3): [0, 995964516L, 38746592L, 817977392L, 556665714L, 756622227L, 156743307L, 984390057L, 482504115L, 623420929L, 779539778L, 43093297L, 183511594L, 3
    #83973831L, 275851175L, 894018467L, 34754589L, 990350984L, 2241099L, 999571964L, 65569L, 999992251L, 666L, 999999970, 1],
   
    }
        
for t in xrange(int(input())):
    N,M,K = map(int,raw_input().split())
    N,M = max(N,M),min(N,M)
    
    poly = precomputed_chromatic_polynomials[(N,M)]
    s = 0
    for i in xrange(len(poly)):
        s = (s + poly[i]*pow(K,i,MOD)) % MOD
    print s